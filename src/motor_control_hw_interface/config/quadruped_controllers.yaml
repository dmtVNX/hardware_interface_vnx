controller_manager:
  ros__parameters:
    update_rate: 100  # Hz (adjust based on your requirements)

    #  Controller list
    joint_state_broadcaster:
      type: joint_state_broadcaster/JointStateBroadcaster

    #  Joint trajectory controller for position control
    joint_trajectory_controller:
      type: joint_trajectory_controller/JointTrajectoryController

    #  Forward command controller for direct position commands
    forward_position_controller:
      type: forward_command_controller/ForwardCommandController

    #  Effort controller (optional)
    effort_controller:
      type: effort_controllers/JointGroupEffortController

#  Joint State Broadcaster Configuration
joint_state_broadcaster:
  ros__parameters:
    joints:
      - fl_hip_joint
      - fl_thigh_joint
      - fl_calf_joint
      - fr_hip_joint
      - fr_thigh_joint
      - fr_calf_joint
      - rl_hip_joint
      - rl_thigh_joint
      - rl_calf_joint
      - rr_hip_joint
      - rr_thigh_joint
      - rr_calf_joint

#  Joint Trajectory Controller
joint_trajectory_controller:
  ros__parameters:
    joints:
      - fl_hip_joint
      - fl_thigh_joint
      - fl_calf_joint
      - fr_hip_joint
      - fr_thigh_joint
      - fr_calf_joint
      - rl_hip_joint
      - rl_thigh_joint
      - rl_calf_joint
      - rr_hip_joint
      - rr_thigh_joint
      - rr_calf_joint

    command_interfaces:
      - position
      - velocity
      - effort

    state_interfaces:
      - position
      - velocity
      - effort

    state_publish_rate: 50.0
    action_monitor_rate: 20.0

    allow_partial_joints_goal: false
    allow_integration_in_goal_trajectories: true

    constraints:
      stopped_velocity_tolerance: 0.01
      goal_time: 0.5

#  Forward Position Controller
forward_position_controller:
  ros__parameters:
    joints:
      - fl_hip_joint
      - fl_thigh_joint
      - fl_calf_joint
      - fr_hip_joint
      - fr_thigh_joint
      - fr_calf_joint
      - rl_hip_joint
      - rl_thigh_joint
      - rl_calf_joint
      - rr_hip_joint
      - rr_thigh_joint
      - rr_calf_joint
    
    interface_name: position

#  Effort Controller
effort_controller:
  ros__parameters:
    joints:
      - fl_hip_joint
      - fl_thigh_joint
      - fl_calf_joint
      - fr_hip_joint
      - fr_thigh_joint
      - fr_calf_joint
      - rl_hip_joint
      - rl_thigh_joint
      - rl_calf_joint
      - rr_hip_joint
      - rr_thigh_joint
      - rr_calf_joint